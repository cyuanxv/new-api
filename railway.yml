build:
  dockerfile: Dockerfile

deploy:
  healthcheck:
    endpoint: /api/status
    interval: 30s
    timeout: 10s
    retries: 3

environments:
  production:
    variables:
      TZ: Asia/Shanghai
      PORT: 3000
      DATA_DIR: /data
      # 使用SQLite数据库，无需外部数据库
      SQL_DSN: "file:/data/new-api.db?cache=shared&mode=rwc"
      # 禁用Redis，使用内存缓存
      REDIS_CONN_STRING: ""
      # 启用日志
      ERROR_LOG_ENABLED: true